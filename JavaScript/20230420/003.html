<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    function PersonGenrator() {
      this.age = 25;

      function InnerPersonType() { };

      InnerPersonType.prototype.getAge = function () {
        return age;
      }

      return InnerPersonType;
    }

    const Person = PersonGenrator();
    const myPerson = new Person();



    const PersonGenerator2 = (function () {
      let age = 25;

      function InnerPersonType() { };

      InnerPersonType.prototype.getAge = function () {
        return age;
      }

      return InnerPersonType;
    })();

    const myPerson2 = new PersonGenerator2();


    //   자바스크립트에서 생성자 함수를 생성하는 두 가지 방법을 보여주는 예시입니다.

    //   PersonGenerator 함수는 생성자 함수를 생성하는 함수입니다.age 프로퍼티를 갖고, InnerPersonType 함수를 반환합니다.InnerPersonType 함수는 생성자 함수로써 사용될 수 있으며, getAge 메소드를 프로토타입에 추가합니다.myPerson 객체는 Person 생성자 함수를 이용하여 만들어졌습니다.

    //   PersonGenerator2는 함수를 익명 즉시 호출하여 생성자 함수를 생성하는 패턴을 사용합니다.age 프로퍼티를 갖고, InnerPersonType 함수를 반환합니다.InnerPersonType 함수는 생성자 함수로써 사용될 수 있으며, getAge 메소드를 프로토타입에 추가합니다.myPerson2 객체는 PersonGenerator2 생성자 함수를 이용하여 만들어졌습니다.

    // 즉, 두 함수 모두 생성자 함수를 생성하는 역할을 하지만, 첫번째 함수는 this를 이용하여 age 프로퍼티를 생성하고, 두번째 함수는 클로저를 이용하여 age 프로퍼티를 생성합니다.




    //기존에 생성자 함수로 객체를 생성할 때는 new 키워드를 사용하여 생성했습니다. 그러나 PersonGenrator 함수는 생성자 함수가 아니라, 새로운 생성자 함수를 반환하는 팩토리 함수입니다. 이렇게 팩토리 함수로 생성한 생성자 함수를 사용하기 위해서는 PersonGenrator 함수를 호출하여 반환된 생성자 함수를 변수에 할당해야 합니다.

    // 따라서 const Person = PersonGenrator();와 같이 팩토리 함수를 호출하여 생성한 생성자 함수를 변수에 할당하고, 이후에 new 키워드를 사용하여 인스턴스를 생성하는 것이 일반적인 방법입니다.

    

    // 생성자함수랑 팩토리함수랑 다른점?

    // 생성자 함수와 팩토리 함수는 객체를 생성하는 방법 중 두 가지입니다.

    // 생성자 함수는 new 연산자와 함께 호출하여 새로운 객체를 생성하고 반환하는 함수입니다. 생성자 함수의 이름은 대문자로 시작하며, 일반적으로 this 키워드를 사용하여 생성되는 객체의 속성과 메서드를 정의합니다.

    function Person(name, age) {
      this.name = name;
      this.age = age;
    }

    // const john = new Person('John', 30);
    // 반면, 팩토리 함수는 새로운 객체를 생성하고 반환하는 함수입니다. 생성된 객체는 일반적으로 객체 리터럴 표기법을 사용하여 정의됩니다.

    function createPerson(name, age) {
      return {
        name: name,
        age: age
      };
    }

    // const john = createPerson('John', 30);
    // 주요한 차이점 중 하나는 생성자 함수가 호출되면 new 키워드로 생성한 객체를 반환하는 반면, 팩토리 함수는 명시적으로 객체를 반환합니다. 또한 생성자 함수는 this 키워드를 사용하여 객체의 속성과 메서드를 정의하지만, 팩토리 함수는 객체 리터럴 표기법을 사용하여 객체를 생성하므로 this 키워드를 사용하지 않습니다.


  </script>
</body>

</html>